# 🧪 화학물질 관리 시스템 (통합 버전)

화학물질 **인벤토리 관리 + 배출량 산정**이 통합된 Streamlit 앱입니다.

## ✨ 주요 기능

### 📋 인벤토리 관리
- 사업장별 화학물질 목록 관리
- 규제 정보 (작업환경측정, 특수건강진단, CMR 등)
- 검색 및 필터링
- 엑셀 다운로드

### 📊 배출량 산정 (통합환경법 기준)
- **Tier 1**: TMS 자동측정
- **Tier 2**: 자가측정
- **Tier 3**: 물질수지법
- **Tier 4**: 배출계수법
- 개별 산정 + 엑셀 일괄 산정

### 🔐 보안
- 사용자별 로그인
- 사업장별 접근 권한 분리
- 관리자/담당자 권한 구분

## 📁 폴더 구조

```
chemical_inventory_system/
├── chemical_inventory_app.py    # 메인 앱
├── config.yaml                  # 사용자 설정
├── data/
│   └── companies/               # 사업장별 인벤토리
│       └── 신우중공업_인벤토리.xlsx
└── README.md
```

## 🚀 실행 방법

### 1. 패키지 설치
```bash
pip install streamlit pandas openpyxl pyyaml bcrypt
```

### 2. 앱 실행
```bash
streamlit run chemical_inventory_app.py
```

### 3. 브라우저 접속
```
http://localhost:8501
```

## 🔑 기본 계정

| 구분 | ID | PW | 권한 |
|------|-----|------|------|
| 관리자 | `admin` | `admin123` | 전체 |
| 담당자 | `shinwoo` | `shinwoo123` | 신우중공업만 |

## 📊 메뉴 구성

| 메뉴 | 관리자 | 담당자 | 설명 |
|------|--------|--------|------|
| 🏠 대시보드 | ✅ | ✅ | 현황 요약 (인벤토리 + 배출량) |
| 📋 인벤토리 조회 | ✅ | ✅ | 화학물질 검색/필터 |
| 📊 배출량 산정 | ✅ | ✅ | 개별/일괄 배출량 계산 |
| 📤 데이터 업로드 | ✅ | ❌ | 인벤토리 업로드 |
| 🏢 사업장 관리 | ✅ | ❌ | 사업장 목록 관리 |
| 👥 사용자 관리 | ✅ | ❌ | 계정 관리 |

## 📊 배출량 산정 사용법

### 방법 1: 개별 산정 (인벤토리 연동)
1. 📊 배출량 산정 메뉴 클릭
2. "개별 산정" 탭 선택
3. 화학물질 선택
4. 산정방법 선택 (물질수지/배출계수)
5. 값 입력 → 계산 → 인벤토리에 저장

### 방법 2: 일괄 산정 (엑셀 업로드)
1. 📊 배출량 산정 메뉴 클릭
2. "일괄 산정" 탭 선택
3. 템플릿 다운로드 → 데이터 입력
4. 파일 업로드 → 자동 계산

## 📈 인벤토리 컬럼 (총 30개)

### 기존 컬럼 (23개)
- 공정명, 제품명, 화학물질명, CAS No, 함유량
- 발암성, 변이성, 생식독성, 노출기준
- 작업환경측정, 특수건강진단, 관리대상유해물질, 특별관리물질
- 환경부 규제 정보

### 배출량 컬럼 (7개, 신규)
- 연간취급량(kg)
- 대기배출량(kg/년)
- 수계배출량(kg/년)
- 폐기물이동량(kg/년)
- 배출산정방법
- 산정기준일
- PRTR대상여부

## 🔜 향후 확장 계획

1. **자동 보고서 생성**
   - 화학물질 위험성평가 보고서
   - 호흡기보호프로그램
   - PRTR 신고서

2. **법규 AI 챗봇**
   - 산업안전보건법 Q&A
   - 화학물질관리법 Q&A
   - 통합환경법 Q&A

3. **OCR MSDS 파싱**
   - 신규 화학물질 자동 등록

---

© 2025 힐스 안전보건컨설팅
